sudo: false
dist: trusty

before_install:
    - 

language: python
python:
    - "3.6"

services: 
    - postgresql

before_script:
    - psql -c 'create database travis_ci_test;' -U postgres
    - psql -q -U postgres -d travis_ci_test -f ./src/test/sql/schema/test_chado_schema.sql

script:
    - for f in src/test/sql/data/*.sql ; do psql -q -U postgres -d travis_ci_test -f $f ; done
    - python src/app.py -c src/test/credentials/config.cfg -d src/test/proformae -l production -v